(()=>{"use strict";var e,t={796:()=>{function e(e,t,r,s,i,o,n,l){var c,a="function"==typeof e?e.options:e;if(t&&(a.render=t,a.staticRenderFns=r,a._compiled=!0),s&&(a.functional=!0),o&&(a._scopeId="data-v-"+o),n?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(n)},a._ssrRegister=c):i&&(c=l?function(){i.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(a.functional){a._injectStyles=c;var d=a.render;a.render=function(e,t){return c.call(t),d(e,t)}}else{var u=a.beforeCreate;a.beforeCreate=u?[].concat(u,c):[c]}return{exports:e,options:a}}const t=e({name:"file-uploader-directory",props:{path:{type:String,required:!0},directory:{type:Object,required:!0}},data:function(){return{}},computed:{classObject:function(){return{selected:this.directory.selected}},hasItems:function(){return this.directory.files.length>0||Object.keys(this.directory.directories).length>0}},methods:{emitSelect:function(e){this.$emit("select",e)},emitUnselect:function(e){this.$emit("unselect",e)},handleClick:function(){this.directory.selected?this.emitUnselect(this.directory):this.emitSelect(this.directory)}}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"storage-file-uploader-directory",class:e.classObject},[r("div",{staticClass:"storage-file-uploader-directory-name",on:{click:e.handleClick}},[r("i",{staticClass:"fa fa-folder"}),e._v(" "),r("span",{domProps:{textContent:e._s(e.path)}})]),e._v(" "),e.hasItems?r("ul",{staticClass:"storage-file-uploader-directory-list"},[e._l(e.directory.directories,(function(t,s){return r("li",[r("file-uploader-directory",{attrs:{path:s,directory:t},on:{select:e.emitSelect,unselect:e.emitUnselect}})],1)})),e._v(" "),e._l(e.directory.files,(function(t){return r("li",{staticClass:"storage-file-uploader-file"},[r("i",{staticClass:"fa fa-file"}),e._v(" "),r("span",{domProps:{textContent:e._s(t.name)}})])}))],2):e._e()])}),[],!1,null,null,null).exports;var r=e({props:{accept:{type:String,default:""}},components:{directory:t},data:function(){return{rootDirectories:{},rootFiles:[],selectedDirectory:null}},computed:{hasSelectedDirectory:function(){return null!==this.selectedDirectory},selectedDirectoryName:function(){return this.selectedDirectory.name},hasNoFiles:function(){return!0}},methods:{handleFilesChosen:function(e){var t=e.target.files,r=(this.rootDirectories,this.rootFiles),s=0;this.hasSelectedDirectory&&(r=this.selectedDirectory.files);var i=[];for(s=0;s<t.length;s++)i.push(t[s].name);for(s=r.length;s--;)i.includes(r[s].name)&&r.splice(s,1);for(s=0;s<t.length;s++)r.push(t[s])},handleNewDirectory:function(e){var t=this.rootDirectories;this.hasSelectedDirectory&&(t=this.selectedDirectory.directories),e.split("/").forEach((function(e){t.hasOwnProperty(e)||Vue.set(t,e,{name:e,directories:{},files:[],selected:!1}),t=t[e].directories}))},addDirectory:function(){var e=prompt("Please enter the new directory name");e&&this.handleNewDirectory(e)},addFiles:function(){this.$refs.fileInput.click()},selectDirectory:function(e){this.hasSelectedDirectory&&(this.selectedDirectory.selected=!1),this.selectedDirectory=e,this.selectedDirectory.selected=!0},unselectDirectory:function(){this.hasSelectedDirectory&&(this.selectedDirectory.selected=!1,this.selectedDirectory=null)}},mounted:function(){}},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"storage-file-uploader well well-sm"},[r("input",{ref:"fileInput",staticClass:"hidden",attrs:{type:"file",multiple:"",accept:e.accept},on:{input:e.handleFilesChosen}}),e._v(" "),r("div",{staticClass:"storage-file-uploader-buttons"},[r("button",{staticClass:"btn btn-default",on:{click:e.addFiles}},[e.hasSelectedDirectory?r("span",[r("i",{staticClass:"fa fa-file"}),e._v(" Add files to "),r("span",{domProps:{textContent:e._s(e.selectedDirectoryName)}})]):r("span",[r("i",{staticClass:"fa fa-file"}),e._v(" Add files\n            ")])]),e._v(" "),r("button",{staticClass:"btn btn-default",on:{click:e.addDirectory}},[e.hasSelectedDirectory?r("span",[r("i",{staticClass:"fa fa-folder"}),e._v(" Add directory to "),r("span",{domProps:{textContent:e._s(e.selectedDirectoryName)}})]):r("span",[r("i",{staticClass:"fa fa-folder"}),e._v(" Add directory\n            ")])]),e._v(" "),r("button",{staticClass:"btn btn-success pull-right",attrs:{disabled:e.hasNoFiles}},[r("i",{staticClass:"fa fa-upload"}),e._v(" Submit\n        ")])]),e._v(" "),e._l(e.rootDirectories,(function(t,s){return r("directory",{key:s,attrs:{path:s,directory:t},on:{select:e.selectDirectory,unselect:e.unselectDirectory}})})),e._v(" "),r("ul",{staticClass:"storage-file-uploader-directory-list"},e._l(e.rootFiles,(function(t){return r("li",{staticClass:"storage-file-uploader-file"},[r("i",{staticClass:"fa fa-file"}),e._v(" "),r("span",{domProps:{textContent:e._s(t.name)}})])})),0)],2)}),[],!1,null,null,null);const s=e({components:{fileUploader:r.exports},data:function(){return{}},methods:{},created:function(){}},undefined,undefined,!1,null,null,null).exports;biigle.$mount("create-storage-request-container",s)},401:()=>{}},r={};function s(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,s),o.exports}s.m=t,e=[],s.O=(t,r,i,o)=>{if(!r){var n=1/0;for(d=0;d<e.length;d++){for(var[r,i,o]=e[d],l=!0,c=0;c<r.length;c++)(!1&o||n>=o)&&Object.keys(s.O).every((e=>s.O[e](r[c])))?r.splice(c--,1):(l=!1,o<n&&(n=o));if(l){e.splice(d--,1);var a=i();void 0!==a&&(t=a)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,i,o]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={355:0,392:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var i,o,[n,l,c]=r,a=0;if(n.some((t=>0!==e[t]))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(c)var d=c(s)}for(t&&t(r);a<n.length;a++)o=n[a],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(d)},r=self.webpackChunkbiigle_user_storage=self.webpackChunkbiigle_user_storage||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),s.O(void 0,[392],(()=>s(796)));var i=s.O(void 0,[392],(()=>s(401)));i=s.O(i)})();